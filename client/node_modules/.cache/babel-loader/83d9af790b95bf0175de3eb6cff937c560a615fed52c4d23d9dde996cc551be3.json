{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport hostName from \"../../config\";\nexport const loginUser = createAsyncThunk('user/loginUser', async userCredentials => {\n  const request = await axios.post(`${hostName}/api/admin/v1.auth/login`, userCredentials);\n  const response = await request.data.data;\n  localStorage.setItem('user', JSON.stringify(response));\n  return response;\n});\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState: {\n    loading: false,\n    user: null,\n    error: null\n  },\n  extraReducers: builder => {\n    builder.addCase(loginUser.pending, state => {\n      state.loading = true;\n      state.user = null;\n      state.error = null;\n    }).addCase(loginUser.fulfilled, (state, action) => {\n      state.loading = false;\n      state.user = action.payload;\n      state.error = null;\n    }).addCase(loginUser.rejected, (state, action) => {\n      state.loading = false;\n      state.user = null;\n      console.log(action.error.message);\n      if (action.error.message === 'Request failed with status code 401') {\n        state.error = 'Access Denied! Invalid Credentials';\n      } else {\n        state.error = action.error.message;\n      }\n    });\n  }\n});\nexport default userSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","hostName","loginUser","userCredentials","request","post","response","data","localStorage","setItem","JSON","stringify","userSlice","name","initialState","loading","user","error","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","console","log","message","reducer"],"sources":["D:/bin_edk (hayat and oumaima)/client/src/redux/store/UserSlice.jsx"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport hostName from \"../../config\";\r\nexport const loginUser=createAsyncThunk(\r\n    'user/loginUser',\r\n    async(userCredentials)=>{\r\n         const request = await axios.post(`${hostName}/api/admin/v1.auth/login`,userCredentials);\r\n         const response = await request.data.data;\r\n         localStorage.setItem('user',JSON.stringify(response));\r\n         return response;\r\n    }\r\n);\r\nconst userSlice = createSlice({\r\n    name:\"user\",\r\n    initialState:{\r\n        loading:false,\r\n        user:null,\r\n        error:null\r\n    },\r\n    extraReducers:(builder)=>{\r\n        builder.addCase(loginUser.pending,(state)=>{\r\n            state.loading=true;\r\n            state.user=null;\r\n            state.error=null;\r\n        })\r\n        .addCase(loginUser.fulfilled,(state,action)=>{\r\n            state.loading=false;\r\n            state.user=action.payload;\r\n            state.error=null;\r\n        })\r\n        .addCase(loginUser.rejected,(state,action)=>{\r\n            state.loading=false;\r\n            state.user=null;\r\n            console.log(action.error.message);\r\n            if(action.error.message === 'Request failed with status code 401'){\r\n                state.error ='Access Denied! Invalid Credentials';\r\n            }\r\n            else{\r\n                state.error= action.error.message;\r\n            }\r\n            \r\n        })\r\n    }\r\n});\r\nexport default userSlice.reducer;"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,cAAc;AACnC,OAAO,MAAMC,SAAS,GAACJ,gBAAgB,CACnC,gBAAgB,EAChB,MAAMK,eAAe,IAAG;EACnB,MAAMC,OAAO,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAE,GAAEJ,QAAS,0BAAyB,EAACE,eAAe,CAAC;EACvF,MAAMG,QAAQ,GAAG,MAAMF,OAAO,CAACG,IAAI,CAACA,IAAI;EACxCC,YAAY,CAACC,OAAO,CAAC,MAAM,EAACC,IAAI,CAACC,SAAS,CAACL,QAAQ,CAAC,CAAC;EACrD,OAAOA,QAAQ;AACpB,CACJ,CAAC;AACD,MAAMM,SAAS,GAAGb,WAAW,CAAC;EAC1Bc,IAAI,EAAC,MAAM;EACXC,YAAY,EAAC;IACTC,OAAO,EAAC,KAAK;IACbC,IAAI,EAAC,IAAI;IACTC,KAAK,EAAC;EACV,CAAC;EACDC,aAAa,EAAEC,OAAO,IAAG;IACrBA,OAAO,CAACC,OAAO,CAAClB,SAAS,CAACmB,OAAO,EAAEC,KAAK,IAAG;MACvCA,KAAK,CAACP,OAAO,GAAC,IAAI;MAClBO,KAAK,CAACN,IAAI,GAAC,IAAI;MACfM,KAAK,CAACL,KAAK,GAAC,IAAI;IACpB,CAAC,CAAC,CACDG,OAAO,CAAClB,SAAS,CAACqB,SAAS,EAAC,CAACD,KAAK,EAACE,MAAM,KAAG;MACzCF,KAAK,CAACP,OAAO,GAAC,KAAK;MACnBO,KAAK,CAACN,IAAI,GAACQ,MAAM,CAACC,OAAO;MACzBH,KAAK,CAACL,KAAK,GAAC,IAAI;IACpB,CAAC,CAAC,CACDG,OAAO,CAAClB,SAAS,CAACwB,QAAQ,EAAC,CAACJ,KAAK,EAACE,MAAM,KAAG;MACxCF,KAAK,CAACP,OAAO,GAAC,KAAK;MACnBO,KAAK,CAACN,IAAI,GAAC,IAAI;MACfW,OAAO,CAACC,GAAG,CAACJ,MAAM,CAACP,KAAK,CAACY,OAAO,CAAC;MACjC,IAAGL,MAAM,CAACP,KAAK,CAACY,OAAO,KAAK,qCAAqC,EAAC;QAC9DP,KAAK,CAACL,KAAK,GAAE,oCAAoC;MACrD,CAAC,MACG;QACAK,KAAK,CAACL,KAAK,GAAEO,MAAM,CAACP,KAAK,CAACY,OAAO;MACrC;IAEJ,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AACF,eAAejB,SAAS,CAACkB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}